<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Inicio - ProjectoCampo</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>

  <!-- üé• Background Video -->
  <video autoplay muted loop id="bg-video">
    <source src="video/background.mp4" type="video/mp4" />
  </video>

  <h1>Bienvenido a ProjectoCampo</h1>
  <p>Est√°s autenticado. Aqu√≠ empieza la experiencia.</p>
  <button onclick="logout()">Cerrar sesi√≥n</button>

  <!-- ‚úÖ Firebase SDK v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

  <script>
    // ‚úÖ Configuraci√≥n
    const firebaseConfig = {
    apiKey: "AIzaSyAenWJ_vTcvY87B2BS0JXtSOeorI9k13vtY",
    authDomain: "projectocampo.firebaseapp.com",
    projectId: "projectocampo",
    storageBucket: "projectocampo.appspot.com",
    messagingSenderId: "773709600047",
    appId: "1:773709600047:web:79c3a5841e6c6a93ddbdba",
    measurementId: "G-0T8EL34CJ9"
    };


    // ‚úÖ Inicializar solo si no ha sido inicializado antes
    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }

    const auth = firebase.auth();

    // ‚úÖ Verificar sesi√≥n
    auth.onAuthStateChanged(user => {
      if (!user) {
        console.warn("üîí Usuario no autenticado. Redirigiendo...");
        window.location.href = "login.html";
      } else {
        console.log("‚úÖ Usuario autenticado:", user.email);
      }
    });

    // üîì Logout
    function logout() {
      auth.signOut().then(() => {
        window.location.href = "login.html";
      });
    }
  </script>
</body>
</html>